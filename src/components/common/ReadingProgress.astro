---
// Reading progress bar component
---

<div 
  id="reading-progress" 
  class="fixed top-0 left-0 z-50 h-1 bg-gradient-to-r from-blue-500 to-emerald-500 transition-all duration-300 ease-out"
  style="width: 0%"
>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const progressBar = document.getElementById('reading-progress');
    if (!progressBar) return;

    const updateProgress = () => {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;
      
      progressBar.style.width = `${Math.min(100, Math.max(0, scrollPercent))}%`;
      
      // Add glow effect when reading
      if (scrollPercent > 5) {
        progressBar.style.boxShadow = '0 0 10px rgba(59, 130, 246, 0.5)';
      } else {
        progressBar.style.boxShadow = 'none';
      }
    };

    // Throttle scroll events for performance
    let ticking = false;
    const onScroll = () => {
      if (!ticking) {
        requestAnimationFrame(() => {
          updateProgress();
          ticking = false;
        });
        ticking = true;
      }
    };

    window.addEventListener('scroll', onScroll);
    updateProgress(); // Initial calculation
  });
</script>
