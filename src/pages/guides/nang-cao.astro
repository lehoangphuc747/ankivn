---
import CourseLayout from '../../layouts/CourseLayout.astro';
import { getCollection } from 'astro:content';
import { getGradientTheme } from '../../utils/gradients';

// Get all guides
const allGuides = await getCollection('guides');

// Filter advanced level guides
const advancedGuides = allGuides.filter(guide => 
  guide.data.level === 'N√¢ng cao' || 
  guide.data.category === 'advanced' ||
  guide.slug.includes('advanced') ||
  guide.slug.includes('nang-cao') ||
  ['anki-advanced-settings', 'anki-add-ons', 'anki-scheduling', 'anki-statistics', 'anki-synchronization', 'anki-deck-management'].includes(guide.slug)
);

// Course data for advanced level
const advancedCourse = {
  id: 'nang-cao',
  title: 'Kh√≥a h·ªçc Anki N√¢ng cao',
  level: 'N√¢ng cao',
  description: 'Kh√°m ph√° c√°c t√≠nh nƒÉng n√¢ng cao v√† k·ªπ thu·∫≠t chuy√™n s√¢u ƒë·ªÉ t·ªëi ∆∞u h√≥a vi·ªác h·ªçc. D√†nh cho nh·ªØng ai ƒë√£ c√≥ kinh nghi·ªám v·ªõi Anki v√† mu·ªën n√¢ng cao hi·ªáu qu·∫£ h·ªçc t·∫≠p.',
  duration: '12 gi·ªù',
  students: 3280,
  rating: 4.9,
  modules: [
    {
      id: 'advanced-module-1',
      title: 'Module 1: C√†i ƒë·∫∑t n√¢ng cao Anki',
      duration: '75 ph√∫t',
      description: 'T√πy ch·ªânh c√°c c√†i ƒë·∫∑t n√¢ng cao ƒë·ªÉ t·ªëi ∆∞u h√≥a tr·∫£i nghi·ªám h·ªçc',
      lessons: [
        {
          title: 'Lesson 1.1: C√†i ƒë·∫∑t n√¢ng cao Anki',
          slug: 'anki-advanced-settings',
          duration: '75 ph√∫t'
        }
      ]
    },
    {
      id: 'advanced-module-2',
      title: 'Module 2: Add-ons v√† Extensions',
      duration: '90 ph√∫t',
      description: 'S·ª≠ d·ª•ng c√°c add-ons ƒë·ªÉ m·ªü r·ªông t√≠nh nƒÉng c·ªßa Anki',
      lessons: [
        {
          title: 'Lesson 2.1: Add-ons v√† Extensions',
          slug: 'anki-add-ons',
          duration: '90 ph√∫t'
        }
      ]
    },
    {
      id: 'advanced-module-3',
      title: 'Module 3: Qu·∫£n l√Ω Scheduling Algorithm',
      duration: '120 ph√∫t',
      description: 'Hi·ªÉu r√µ v√† t√πy ch·ªânh thu·∫≠t to√°n l·∫∑p l·∫°i c·ªßa Anki',
      lessons: [
        {
          title: 'Lesson 3.1: Qu·∫£n l√Ω Scheduling Algorithm',
          slug: 'anki-scheduling',
          duration: '120 ph√∫t'
        }
      ]
    },
    {
      id: 'advanced-module-4',
      title: 'Module 4: Ph√¢n t√≠ch th·ªëng k√™ h·ªçc t·∫≠p',
      duration: '60 ph√∫t',
      description: 'S·ª≠ d·ª•ng th·ªëng k√™ ƒë·ªÉ theo d√µi v√† c·∫£i thi·ªán hi·ªáu qu·∫£ h·ªçc',
      lessons: [
        {
          title: 'Lesson 4.1: Ph√¢n t√≠ch th·ªëng k√™ h·ªçc t·∫≠p',
          slug: 'anki-statistics',
          duration: '60 ph√∫t'
        }
      ]
    },
    {
      id: 'advanced-module-5',
      title: 'Module 5: ƒê·ªìng b·ªô h√≥a v√† Backup',
      duration: '45 ph√∫t',
      description: 'Qu·∫£n l√Ω ƒë·ªìng b·ªô d·ªØ li·ªáu v√† sao l∆∞u an to√†n',
      lessons: [
        {
          title: 'Lesson 5.1: ƒê·ªìng b·ªô h√≥a v√† Backup',
          slug: 'anki-synchronization',
          duration: '45 ph√∫t'
        }
      ]
    },
    {
      id: 'advanced-module-6',
      title: 'Module 6: Qu·∫£n l√Ω Deck n√¢ng cao',
      duration: '90 ph√∫t',
      description: 'T·ªï ch·ª©c v√† qu·∫£n l√Ω b·ªô th·∫ª m·ªôt c√°ch chuy√™n nghi·ªáp',
      lessons: [
        {
          title: 'Lesson 6.1: Qu·∫£n l√Ω Deck n√¢ng cao',
          slug: 'anki-deck-management',
          duration: '90 ph√∫t'
        }
      ]
    }
  ]
};

// Theme configuration for advanced course
const advancedTheme = {
  emoji: 'üöÄ',
  colors: {
    primary: 'blue',
    secondary: 'purple',
    badge: 'blue',
    hover: {
      primary: 'blue',
      secondary: 'purple'
    }
  }
};

// No custom gradients - use default layout without gradients

// Prerequisite section content
const prerequisiteContent = `
  <div class="flex items-start">
    <div class="text-2xl mr-4">‚ö†Ô∏è</div>
    <div>
      <h3 class="text-lg font-bold text-amber-800 mb-2">Y√™u c·∫ßu tr∆∞·ªõc khi h·ªçc</h3>
      <p class="text-amber-700 mb-4">
        Kh√≥a h·ªçc n√†y y√™u c·∫ßu b·∫°n ƒë√£ c√≥ ki·∫øn th·ª©c c∆° b·∫£n v·ªÅ Anki. N·∫øu b·∫°n ch∆∞a quen v·ªõi Anki, h√£y h·ªçc kh√≥a c∆° b·∫£n tr∆∞·ªõc.
      </p>
      <a 
        href="/guides/co-ban"
        class="inline-flex items-center text-amber-800 font-semibold hover:text-amber-900"
      >
        H·ªçc kh√≥a C∆° b·∫£n tr∆∞·ªõc
        <svg class="ml-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
        </svg>
      </a>
    </div>
  </div>
`;

// Back to basic course section content
const backToBasicContent = `
  <h2 class="text-3xl font-bold text-gray-900 mb-4">
    C·∫ßn √¥n l·∫°i ki·∫øn th·ª©c c∆° b·∫£n?
  </h2>
  <p class="text-gray-600 mb-8">
    N·∫øu b·∫°n g·∫∑p kh√≥ khƒÉn v·ªõi n·ªôi dung n√¢ng cao, h√£y quay l·∫°i c·ªßng c·ªë ki·∫øn th·ª©c c∆° b·∫£n
  </p>
  
  <div class="bg-white rounded-xl shadow-lg p-8 border border-gray-200">
    <div class="text-4xl mb-4">üå±</div>
    <h3 class="text-2xl font-bold text-gray-900 mb-2">Kh√≥a h·ªçc Anki C∆° b·∫£n</h3>
    <p class="text-gray-600 mb-6">
      H·ªçc c√°ch s·ª≠ d·ª•ng Anki t·ª´ nh·ªØng b∆∞·ªõc ƒë·∫ßu ti√™n v√† n·∫Øm v·ªØng c√°c t√≠nh nƒÉng c∆° b·∫£n
    </p>
    <div class="flex justify-center gap-4">
      <a 
        href="/guides/co-ban"
        class="bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors"
      >
        √în l·∫°i kh√≥a C∆° b·∫£n
      </a>
      <a 
        href="/guides"
        class="border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:border-green-500 hover:text-green-600 transition-colors"
      >
        Xem t·∫•t c·∫£ kh√≥a h·ªçc
      </a>
    </div>
  </div>
`;
---

<CourseLayout 
  course={advancedCourse}
  theme={advancedTheme}
  prerequisiteSection={{
    show: true,
    content: prerequisiteContent
  }}
  nextCourseSection={{
    show: true,
    content: backToBasicContent
  }}
/>
