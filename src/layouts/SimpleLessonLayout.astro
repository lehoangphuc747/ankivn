---
// Import BaseLayout - Layout ch√≠nh c·ªßa website ƒë·ªÉ k·∫ø th·ª´a header, footer, v√† c√°c style c∆° b·∫£n
import BaseLayout from '../layouts/BaseLayout.astro';

// ƒê·ªãnh nghƒ©a interface Props - Ki·ªÉu d·ªØ li·ªáu cho c√°c props ƒë∆∞·ª£c truy·ªÅn v√†o component n√†y
interface Props {
  title: string;                                          // Ti√™u ƒë·ªÅ b√†i h·ªçc (b·∫Øt bu·ªôc)
  description?: string;                                    // M√¥ t·∫£ b√†i h·ªçc (t√πy ch·ªçn)
  author?: string;                                         // T√°c gi·∫£ b√†i h·ªçc (t√πy ch·ªçn)
  date?: string | Date;                                    // Ng√†y xu·∫•t b·∫£n (t√πy ch·ªçn, c√≥ th·ªÉ l√† string ho·∫∑c Date object)
  duration?: string;                                       // Th·ªùi l∆∞·ª£ng h·ªçc (v√≠ d·ª•: "45 ph√∫t") (t√πy ch·ªçn)
  level?: string;                                          // C·∫•p ƒë·ªô b√†i h·ªçc (v√≠ d·ª•: "C∆° b·∫£n", "N√¢ng cao") (t√πy ch·ªçn)
  tags?: string[];                                         // M·∫£ng c√°c tag/t·ª´ kh√≥a (t√πy ch·ªçn)
  prevLesson?: { title: string; slug: string; };          // Th√¥ng tin b√†i h·ªçc tr∆∞·ªõc (title v√† slug ƒë·ªÉ t·∫°o link) (t√πy ch·ªçn)
  nextLesson?: { title: string; slug: string; };          // Th√¥ng tin b√†i h·ªçc ti·∫øp theo (title v√† slug ƒë·ªÉ t·∫°o link) (t√πy ch·ªçn)
}

// Destructuring props t·ª´ Astro.props - L·∫•y ra c√°c gi√° tr·ªã ƒë∆∞·ª£c truy·ªÅn v√†o component
const { 
  title,                                                   // Ti√™u ƒë·ªÅ b√†i h·ªçc
  description,                                             // M√¥ t·∫£ b√†i h·ªçc
  author,                                                  // T√°c gi·∫£
  date,                                                    // Ng√†y xu·∫•t b·∫£n
  duration,                                                // Th·ªùi l∆∞·ª£ng
  level,                                                   // C·∫•p ƒë·ªô
  tags = [],                                               // Tags (m·∫∑c ƒë·ªãnh l√† m·∫£ng r·ªóng n·∫øu kh√¥ng c√≥)
  prevLesson,                                              // B√†i h·ªçc tr∆∞·ªõc
  nextLesson                                               // B√†i h·ªçc ti·∫øp theo
} = Astro.props as Props;

// ƒê·ªãnh nghƒ©a m√†u s·∫Øc cho c√°c level badge - Object mapping level v·ªõi CSS classes
const levelColors: Record<string, string> = {
  'C∆° b·∫£n': 'bg-green-100 text-green-800',               // Level c∆° b·∫£n: background xanh l√° nh·∫°t, text xanh ƒë·∫≠m
  'N√¢ng cao': 'bg-blue-100 text-blue-800',               // Level n√¢ng cao: background xanh d∆∞∆°ng nh·∫°t, text xanh ƒë·∫≠m
};
---

<!-- 
  BASELAYOUT WRAPPER: 
  B·ªçc to√†n b·ªô content trong BaseLayout ƒë·ªÉ c√≥ header, footer, v√† meta tags c∆° b·∫£n
  title={title} truy·ªÅn title c·ªßa b√†i h·ªçc v√†o meta title c·ªßa trang
-->
<BaseLayout title={title}>
  <!-- 
    MAIN CONTAINER: 
    Container ch√≠nh c·ªßa trang v·ªõi min-height full screen v√† background x√°m nh·∫°t
    bg-gray-50: Background m√†u x√°m r·∫•t nh·∫°t ƒë·ªÉ t·∫°o contrast v·ªõi content box tr·∫Øng
  -->
  <main class="min-h-screen bg-gray-50">
    
    <!-- 
      HERO SECTION - PH·∫¶N TI√äU ƒê·ªÄ CH√çNH:
      Section hi·ªÉn th·ªã th√¥ng tin c∆° b·∫£n c·ªßa b√†i h·ªçc ·ªü ƒë·∫ßu trang
      bg-gradient-to-br: Gradient background t·ª´ g√≥c tr√™n tr√°i xu·ªëng g√≥c d∆∞·ªõi ph·∫£i
      from-blue-50 to-purple-50: M√†u gradient t·ª´ xanh d∆∞∆°ng nh·∫°t ƒë·∫øn t√≠m nh·∫°t
      py-16: Padding top v√† bottom 4rem (64px) ƒë·ªÉ t·∫°o kh√¥ng gian tho√°ng
    -->
    <section class="bg-gradient-to-br from-blue-50 to-purple-50 py-16">
      <!-- 
        CONTAINER RESPONSIVE:
        max-w-4xl: Gi·ªõi h·∫°n width t·ªëi ƒëa 896px
        mx-auto: Center horizontal
        px-4 sm:px-6 lg:px-8: Responsive padding horizontal (16px -> 24px -> 32px)
      -->
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- text-center: CƒÉn gi·ªØa t·∫•t c·∫£ n·ªôi dung trong hero -->
        <div class="text-center">
          
          <!-- 
            LEVEL BADGE - NH√ÉN C·∫§P ƒê·ªò:
            Hi·ªÉn th·ªã c·∫•p ƒë·ªô b√†i h·ªçc (C∆° b·∫£n/N√¢ng cao) n·∫øu c√≥
            S·ª≠ d·ª•ng conditional rendering {level && (...)}
          -->
          {level && (
            <span class={`inline-block px-4 py-2 rounded-full text-sm font-bold mb-6 ${level && levelColors[level] ? levelColors[level] : 'bg-gray-100 text-gray-800'}`}>
              üìñ {level}
              {/* 
                Template literal v·ªõi conditional:
                - N·∫øu level t·ªìn t·∫°i trong levelColors object -> d√πng m√†u ƒë√≥
                - N·∫øu kh√¥ng -> d√πng m√†u x√°m m·∫∑c ƒë·ªãnh
                üìñ emoji ƒë·ªÉ t·∫°o visual cue cho education content
              */}
            </span>
          )}
          
          <!-- 
            TITLE - TI√äU ƒê·ªÄ CH√çNH:
            text-4xl md:text-5xl: Responsive font size (36px -> 48px tr√™n medium+)
            font-bold: Font weight 700
            text-gray-900: M√†u text ƒëen ƒë·∫≠m
            mb-6: Margin bottom 24px
            leading-tight: Line height ch·∫∑t ƒë·ªÉ title ƒë·∫πp h∆°n
          -->
          <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight">
            {title}
          </h1>
          
          <!-- 
            DESCRIPTION - M√î T·∫¢ B√ÄI H·ªåC:
            Ch·ªâ hi·ªÉn th·ªã n·∫øu c√≥ description
            text-xl: Font size 20px
            text-gray-600: M√†u x√°m v·ª´a ph·∫£i ƒë·ªÉ t·∫°o hierarchy
            max-w-3xl mx-auto: Gi·ªõi h·∫°n width 768px v√† center
          -->
          {description && (
            <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
              {description}
            </p>
          )}
          
          <!-- 
            META INFO ROW - TH√îNG TIN META:
            Hi·ªÉn th·ªã author, duration, date trong 1 h√†ng flexible
            flex-wrap: Cho ph√©p wrap xu·ªëng d√≤ng tr√™n mobile
            justify-center: Center c√°c items
            gap-6: Space gi·ªØa c√°c items 24px
          -->
          <div class="flex flex-wrap justify-center items-center gap-6 text-gray-600">
            
            <!-- AUTHOR INFO - Hi·ªÉn th·ªã n·∫øu c√≥ author -->
            {author && (
              <div class="flex items-center gap-2">
                <!-- SVG icon ng∆∞·ªùi d√πng -->
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <span>{author}</span>
              </div>
            )}
            
            <!-- DURATION INFO - Hi·ªÉn th·ªã n·∫øu c√≥ duration -->
            {duration && (
              <div class="flex items-center gap-2">
                <!-- SVG icon ƒë·ªìng h·ªì -->
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span>{duration}</span>
              </div>
            )}
            
            <!-- DATE INFO - Hi·ªÉn th·ªã n·∫øu c√≥ date -->
            {date && (
              <div class="flex items-center gap-2">
                <!-- SVG icon l·ªãch -->
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                <!-- 
                  Format date b·∫±ng JavaScript Date API:
                  new Date(date).toLocaleDateString('vi-VN') 
                  -> Convert th√†nh ƒë·ªãnh d·∫°ng ng√†y Vi·ªát Nam
                -->
                <span>{new Date(date).toLocaleDateString('vi-VN')}</span>
              </div>
            )}
          </div>
          
          <!-- 
            TAGS SECTION - HI·ªÇN TH·ªä C√ÅC TAG:
            Ch·ªâ hi·ªÉn th·ªã n·∫øu c√≥ tags v√† m·∫£ng tags kh√¥ng r·ªóng
            flex-wrap: Cho ph√©p tags wrap xu·ªëng d√≤ng
            gap-2: Kho·∫£ng c√°ch gi·ªØa c√°c tags 8px
            mt-8: Margin top 32px ƒë·ªÉ t√°ch kh·ªèi meta info
          -->
          {tags && tags.length > 0 && (
            <div class="flex flex-wrap justify-center gap-2 mt-8">
              {tags.map((tag: string) => (
                <!-- 
                  M·ªói tag l√† m·ªôt badge nh·ªè:
                  inline-flex: Display flex inline
                  px-3 py-1: Padding horizontal 12px, vertical 4px
                  rounded-full: Border radius 9999px (ho√†n to√†n tr√≤n)
                  text-sm: Font size 14px
                  bg-white: Background tr·∫Øng
                  border border-gray-200: Border x√°m nh·∫°t
                  # prefix ƒë·ªÉ ch·ªâ ƒë√¢y l√† hashtag
                -->
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-white text-gray-700 border border-gray-200">
                  #{tag}
                </span>
              ))}
            </div>
          )}
        </div>
      </div>
    </section>

    <!-- 
      CONTENT SECTION - PH·∫¶N N·ªòI DUNG B√ÄI H·ªåC:
      Section ch·ª©a n·ªôi dung markdown ch√≠nh c·ªßa b√†i h·ªçc
      py-16: Padding top v√† bottom 64px ƒë·ªÉ t·∫°o kh√¥ng gian tho√°ng
    -->
    <section class="py-16">
      <!-- 
        CONTENT CONTAINER:
        max-w-4xl: Gi·ªõi h·∫°n width t·ªëi ƒëa 896px cho readability t·ªët
        mx-auto: Center horizontal
        px-4 sm:px-6 lg:px-8: Responsive horizontal padding
      -->
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- 
          CONTENT CARD:
          bg-white: Background tr·∫Øng ƒë·ªÉ n·ªïi b·∫≠t tr√™n bg-gray-50
          rounded-xl: Border radius 12px
          shadow-lg: Drop shadow ƒë·∫≠m ƒë·ªÉ t·∫°o elevation
          p-8 md:p-12: Responsive padding (32px -> 48px)
        -->
        <div class="bg-white rounded-xl shadow-lg p-8 md:p-12">
          
          <!-- 
            ARTICLE WRAPPER:
            content-article: Class wrapper cho article content
            ƒê∆∞·ª£c s·ª≠ d·ª•ng trong global.css ƒë·ªÉ apply markdown styling
          -->
          <article class="content-article">
            <!-- 
              MARKDOWN CONTENT CONTAINER:
              markdown-content: Class ch√≠nh ƒë·ªÉ apply t·∫•t c·∫£ markdown styling
              Trong global.css c√≥ ƒë·ªãnh nghƒ©a styling cho:
              - Headers (h1, h2, h3, etc.)
              - Paragraphs, lists, blockquotes
              - Code blocks v√† inline code
              - Tables, images, links
              - Spacing v√† typography
            -->
            <div class="markdown-content">
              <!-- 
                SLOT - N·ªòI DUNG DYNAMIC:
                ƒê√¢y l√† n∆°i Astro s·∫Ω render n·ªôi dung markdown t·ª´ file .mdx
                T·∫•t c·∫£ content t·ª´ file guides/[filename].mdx s·∫Ω ƒë∆∞·ª£c inject v√†o ƒë√¢y
              -->
              <slot />
            </div>
          </article>
        </div>
      </div>
    </section>
    
    <!-- 
      NAVIGATION SECTION - PH·∫¶N ƒêI·ªÄU H∆Ø·ªöNG B√ÄI H·ªåC:
      Section ch·ª©a c√°c n√∫t ƒëi·ªÅu h∆∞·ªõng gi·ªØa c√°c b√†i h·ªçc
      py-8: Padding top v√† bottom 32px
      bg-gradient-to-r from-blue-50 to-indigo-50: Gradient ngang t·ª´ xanh d∆∞∆°ng nh·∫°t ƒë·∫øn indigo nh·∫°t
      border-t border-blue-100: Border top m√†u xanh nh·∫°t ƒë·ªÉ ph√¢n t√°ch v·ªõi content
    -->
    <section class="py-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-blue-100">
      <!-- 
        NAVIGATION CONTAINER:
        max-w-4xl: Gi·ªõi h·∫°n width t∆∞∆°ng ·ª©ng v·ªõi content area
        mx-auto: Center horizontal
        px-4 sm:px-6 lg:px-8: Responsive padding horizontal
      -->
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- 
          MAIN NAVIGATION ROW - H√ÄNG ƒêI·ªÄU H∆Ø·ªöNG CH√çNH:
          Ch·ª©a 3 ph·∫ßn: Previous Lesson | Course Link | Next Lesson
          flex flex-col md:flex-row: Vertical stack tr√™n mobile, horizontal tr√™n desktop
          items-stretch md:items-center: Stretch height tr√™n mobile, center tr√™n desktop
          justify-between: Distribute space equally
          gap-4: Space gi·ªØa items 16px
          mb-6: Margin bottom 24px ƒë·ªÉ t√°ch v·ªõi secondary navigation
        -->
        <div class="flex flex-col md:flex-row items-stretch md:items-center justify-between gap-4 mb-6">
          
          <!-- 
            PREVIOUS LESSON - B√ÄI TR∆Ø·ªöC:
            flex-1: Flex grow ƒë·ªÉ chi·∫øm space c√≥ s·∫µn
            max-w-sm: Gi·ªõi h·∫°n width t·ªëi ƒëa 384px ƒë·ªÉ kh√¥ng qu√° r·ªông
          -->
          <div class="flex-1 max-w-sm">
            <!-- 
              CONDITIONAL RENDERING - Previous lesson c√≥ t·ªìn t·∫°i kh√¥ng?
              N·∫øu c√≥ prevLesson -> hi·ªÉn th·ªã link active
              N·∫øu kh√¥ng -> hi·ªÉn th·ªã placeholder disabled
            -->
            {prevLesson ? (
              <!-- 
                ACTIVE PREVIOUS LESSON LINK:
                group: ƒê·ªÉ s·ª≠ d·ª•ng group-hover effects
                block w-full: Full width block element
                p-4: Padding 16px t·∫•t c·∫£ ph√≠a
                border-2 border-blue-200: Border 2px m√†u xanh nh·∫°t
                rounded-xl: Border radius 12px
                bg-white: Background tr·∫Øng
                hover:bg-blue-50: Background xanh nh·∫°t khi hover
                hover:border-blue-300: Border ƒë·∫≠m h∆°n khi hover
                transition-all duration-200: Smooth animation 200ms
                shadow-sm hover:shadow-md: Elevation tƒÉng khi hover
              -->
              <a 
                href={`/guides/${prevLesson.slug}`}
                class="group block w-full p-4 border-2 border-blue-200 rounded-xl bg-white hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md"
              >
                <!-- 
                  LINK CONTENT LAYOUT:
                  flex items-center: Horizontal layout v·ªõi vertical center alignment
                -->
                <div class="flex items-center">
                  <!-- 
                    LEFT ARROW ICON:
                    w-5 h-5: Size 20x20px
                    mr-3: Margin right 12px
                    text-blue-500: M√†u xanh
                    group-hover:-translate-x-1: Move left 4px khi hover parent
                    transition-transform duration-200: Smooth movement animation
                    flex-shrink-0: Kh√¥ng shrink khi space thi·∫øu
                  -->
                  <svg class="w-5 h-5 mr-3 text-blue-500 group-hover:-translate-x-1 transition-transform duration-200 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                  </svg>
                  
                  <!-- 
                    TEXT CONTENT:
                    text-left: Left align text
                  -->
                  <div class="text-left">
                    <!-- 
                      LABEL - "B√†i tr∆∞·ªõc":
                      text-xs: Font size 12px
                      text-blue-500: M√†u xanh matching v·ªõi icon
                      font-medium: Font weight 500
                      mb-1: Margin bottom 4px
                    -->
                    <div class="text-xs text-blue-500 font-medium mb-1">B√†i tr∆∞·ªõc</div>
                    
                    <!-- 
                      LESSON TITLE:
                      font-semibold: Font weight 600
                      text-gray-900: M√†u ƒëen ƒë·∫≠m
                      text-sm: Font size 14px
                      leading-tight: Line height ch·∫∑t
                      line-clamp-2: Gi·ªõi h·∫°n 2 d√≤ng v·ªõi ellipsis
                    -->
                    <div class="font-semibold text-gray-900 text-sm leading-tight line-clamp-2">{prevLesson.title}</div>
                  </div>
                </div>
              </a>
            ) : (
              <!-- 
                DISABLED PREVIOUS LESSON PLACEHOLDER:
                Khi kh√¥ng c√≥ b√†i tr∆∞·ªõc, hi·ªÉn th·ªã element disabled
                cursor-not-allowed: Con tr·ªè chu·ªôt disabled
                opacity-60: Gi·∫£m opacity ƒë·ªÉ ch·ªâ disabled state
                border-gray-200, bg-gray-50: M√†u x√°m ƒë·ªÉ ch·ªâ inactive
              -->
              <div class="block w-full p-4 border-2 border-gray-200 rounded-xl bg-gray-50 cursor-not-allowed opacity-60">
                <div class="flex items-center">
                  <!-- Icon m√†u x√°m -->
                  <svg class="w-5 h-5 mr-3 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                  </svg>
                  <div class="text-left">
                    <!-- Text m√†u x√°m ƒë·ªÉ ch·ªâ disabled -->
                    <div class="text-xs text-gray-400 font-medium mb-1">B√†i tr∆∞·ªõc</div>
                    <div class="font-semibold text-gray-400 text-sm">Kh√¥ng c√≥</div>
                  </div>
                </div>
              </div>
            )}
          </div>
          
          <!-- 
            CENTER - COURSE LINK - LI√äN K·∫æT KH√ìA H·ªåC:
            flex-shrink-0: Kh√¥ng shrink khi thi·∫øu space
            N√∫t ƒë·ªÉ quay l·∫°i trang t·ªïng quan kh√≥a h·ªçc
          -->
          <div class="flex-shrink-0">
            <!-- 
              COURSE LINK:
              Dynamic href d·ª±a tr√™n level:
              - level === 'C∆° b·∫£n' -> '/guides/co-ban'
              - level === 'N√¢ng cao' -> '/guides/nang-cao'  
              - default -> '/guides'
              
              Styling:
              inline-flex items-center: Inline flex v·ªõi center alignment
              px-4 py-3: Padding horizontal 16px, vertical 12px
              text-sm: Font size 14px
              text-gray-600: M√†u x√°m v·ª´a
              hover:text-blue-600: M√†u xanh khi hover
              transition-colors: Smooth color transition
              rounded-lg: Border radius 8px
              hover:bg-white/70: Semi-transparent white background khi hover
              font-medium: Font weight 500
              border border-gray-200: Border x√°m nh·∫°t
              bg-white: Background tr·∫Øng
            -->
            <a 
              href={level === 'C∆° b·∫£n' ? '/guides/co-ban' : level === 'N√¢ng cao' ? '/guides/nang-cao' : '/guides'}
              class="inline-flex items-center px-4 py-3 text-sm text-gray-600 hover:text-blue-600 transition-colors rounded-lg hover:bg-white/70 font-medium border border-gray-200 bg-white"
            >
              <!-- 
                BACK ARROW ICON:
                w-4 h-4: Size 16x16px (nh·ªè h∆°n navigation arrows)
                mr-2: Margin right 8px
              -->
              <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0l-4-4m4 4l-4 4" />
              </svg>
              Quay l·∫°i kh√≥a h·ªçc
            </a>
          </div>
          
          <!-- 
            NEXT LESSON - B√ÄI TI·∫æP THEO:
            flex-1: Flex grow ƒë·ªÉ c√¢n b·∫±ng v·ªõi previous lesson
            max-w-sm: Gi·ªõi h·∫°n width t·ªëi ƒëa 384px
          -->
          <div class="flex-1 max-w-sm">
            <!-- 
              CONDITIONAL RENDERING - Next lesson c√≥ t·ªìn t·∫°i kh√¥ng?
              N·∫øu c√≥ nextLesson -> hi·ªÉn th·ªã link "B√†i ti·∫øp theo"
              N·∫øu kh√¥ng -> hi·ªÉn th·ªã link "Ho√†n th√†nh kh√≥a h·ªçc"
            -->
            {nextLesson ? (
              <!-- 
                ACTIVE NEXT LESSON LINK:
                Styling prominent h∆°n previous lesson ƒë·ªÉ encourage progression
                bg-gradient-to-r from-blue-500 to-blue-600: Gradient background xanh
                hover:from-blue-600 hover:to-blue-700: ƒê·∫≠m h∆°n khi hover
                text-white: Text m√†u tr·∫Øng
                rounded-xl: Border radius 12px
                shadow-lg hover:shadow-xl: Shadow m·∫°nh h∆°n
                transform hover:scale-[1.02]: Scale up nh·∫π khi hover ƒë·ªÉ t·∫°o emphasis
              -->
              <a 
                href={`/guides/${nextLesson.slug}`}
                class="group block w-full p-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]"
              >
                <!-- 
                  LAYOUT:
                  justify-end: Align content to right (ng∆∞·ª£c v·ªõi previous lesson)
                -->
                <div class="flex items-center justify-end">
                  <!-- 
                    TEXT CONTENT:
                    text-right: Right align text ƒë·ªÉ mirror previous lesson
                  -->
                  <div class="text-right">
                    <!-- 
                      LABEL - "B√†i ti·∫øp theo":
                      text-blue-100: M√†u xanh nh·∫°t tr√™n background xanh ƒë·∫≠m
                    -->
                    <div class="text-xs text-blue-100 font-medium mb-1">B√†i ti·∫øp theo</div>
                    
                    <!-- 
                      LESSON TITLE:
                      text-white: M√†u tr·∫Øng ƒë·ªÉ contrast v·ªõi background xanh
                    -->
                    <div class="font-semibold text-white text-sm leading-tight line-clamp-2">{nextLesson.title}</div>
                  </div>
                  
                  <!-- 
                    RIGHT ARROW ICON:
                    ml-3: Margin left 12px (sau text content)
                    text-white: M√†u tr·∫Øng
                    group-hover:translate-x-1: Move right 4px khi hover
                  -->
                  <svg class="w-5 h-5 ml-3 text-white group-hover:translate-x-1 transition-transform duration-200 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </div>
              </a>
            ) : (
              <!-- 
                COURSE COMPLETION LINK:
                Khi kh√¥ng c√≥ b√†i ti·∫øp theo, hi·ªÉn th·ªã completion state
                bg-gradient-to-r from-green-500 to-green-600: Gradient xanh l√° ƒë·ªÉ ch·ªâ completion
                hover:from-green-600 hover:to-green-700: Hover state
                Link ƒë·∫øn trang t·ªïng quan t·∫•t c·∫£ guides
              -->
              <a 
                href="/guides" 
                class="group block w-full p-4 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]"
              >
                <div class="flex items-center justify-end">
                  <div class="text-right">
                    <!-- 
                      COMPLETION LABEL:
                      text-green-100: M√†u xanh l√° nh·∫°t tr√™n background xanh l√° ƒë·∫≠m
                    -->
                    <div class="text-xs text-green-100 font-medium mb-1">Ho√†n th√†nh</div>
                    <div class="font-semibold text-white text-sm">Xem t·∫•t c·∫£ kh√≥a h·ªçc</div>
                  </div>
                  
                  <!-- 
                    CHECK CIRCLE ICON:
                    Icon completion thay v√¨ arrow
                    group-hover:scale-110: Scale up khi hover ƒë·ªÉ celebrate completion
                  -->
                  <svg class="w-5 h-5 ml-3 text-white group-hover:scale-110 transition-transform duration-200 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
              </a>
            )}
          </div>
        </div>
        
        <!-- 
          SECONDARY NAVIGATION - ƒêI·ªÄU H∆Ø·ªöNG PH·ª§:
          Navigation b·ªï sung ƒë·ªÉ quay l·∫°i trang t·ªïng quan t·∫•t c·∫£ guides
          text-center: Center align n·ªôi dung
          pt-4: Padding top 16px
          border-t border-blue-200: Border top ƒë·ªÉ ph√¢n t√°ch v·ªõi main navigation
        -->
        <div class="text-center pt-4 border-t border-blue-200">
          <!-- 
            ALL GUIDES LINK:
            Link t·ªõi trang t·ªïng quan t·∫•t c·∫£ h∆∞·ªõng d·∫´n
            inline-flex items-center: Inline flex v·ªõi center alignment
            px-4 py-2: Padding horizontal 16px, vertical 8px (nh·ªè h∆°n main buttons)
            text-sm: Font size 14px
            text-gray-600: M√†u x√°m neutral
            hover:text-gray-800: ƒê·∫≠m h∆°n khi hover
            transition-colors: Smooth color transition
            rounded-lg: Border radius 8px
            hover:bg-white/50: Semi-transparent white background khi hover
          -->
          <a 
            href="/guides"
            class="inline-flex items-center px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors rounded-lg hover:bg-white/50"
          >
            <!-- 
              GRID ICON:
              Icon grid ƒë·ªÉ represent "t·∫•t c·∫£ h∆∞·ªõng d·∫´n"
              w-4 h-4: Size 16x16px
              mr-2: Margin right 8px
            -->
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
            </svg>
            Xem t·∫•t c·∫£ h∆∞·ªõng d·∫´n
          </a>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<!-- 
  CUSTOM STYLES - CSS T√ôY CH·ªàNH:
  ƒê·ªãnh nghƒ©a c√°c utility styles kh√¥ng c√≥ s·∫µn trong Tailwind
-->
<style>
  /* 
    LINE CLAMP UTILITY:
    T·∫°o hi·ªáu ·ª©ng text truncate v·ªõi ellipsis cho nhi·ªÅu d√≤ng
    S·ª≠ d·ª•ng webkit line clamp ƒë·ªÉ gi·ªõi h·∫°n s·ªë d√≤ng hi·ªÉn th·ªã
    
    display: -webkit-box: S·ª≠ d·ª•ng webkit flexbox
    -webkit-line-clamp: 2: Gi·ªõi h·∫°n 2 d√≤ng
    -webkit-box-orient: vertical: H∆∞·ªõng vertical
    overflow: hidden: ·∫®n text d∆∞ th·ª´a
    
    K·∫øt qu·∫£: Text d√†i s·∫Ω b·ªã c·∫Øt ·ªü d√≤ng th·ª© 2 v√† th√™m "..." ·ªü cu·ªëi
  */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
